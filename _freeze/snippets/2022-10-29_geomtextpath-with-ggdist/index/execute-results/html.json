{
  "hash": "a206a7053c26cc8c503cd748bf5c50c7",
  "result": {
    "markdown": "---\ntitle: \"Directly labeling ggdist lineribbons with geomtextpath\"\ndescription: |\n  Directly labeling {ggdist} lineribbons with {geomtextpath}.\n\ndate: 2022-10-29\n\ncategories:\n  - .Visualize\n  - \"{ggdist}\"\n  - \"{geomtextpath}\"\n\nparams:\n  use_renv: FALSE\n  data_file: NULL # Filename of data located in /data/\n  fair_dealing: FALSE\n---\n\n\n\n\n## Prerequisites\n\nTo access the datasets, help pages, and functions that we will use in this code snippet, load the following packages:\n\n\n::: {.cell opts.label='no.message'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(ggdist)\nlibrary(geomtextpath)\n```\n:::\n\n\n## Directly labeling lineribbons\n\nFirst make some data.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nset.seed(1234)\nn = 5000\n\ndf <- tibble(\n  .draw = 1:n,\n  intercept = rnorm(n, 3, 1),\n  slope = rnorm(n, 1, 0.25),\n  x = list(-4:5),\n  y = map2(intercept, slope, ~ .x + .y * -4:5)\n) %>%\n  unnest(c(x, y))\n```\n:::\n\n\nThen plot it.\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>%\n  group_by(x) %>%\n  median_qi(y, .width = c(.50, .80, .95)) %>%\n  ggplot(aes(x = x, y = y, ymin = .lower, ymax = .upper)) +\n  # Hide the line from geom_lineribbon() by setting `size = 0`\n  geom_lineribbon(size = 0) +\n  scale_fill_brewer() +\n  # Replace the hidden line with a labelled line\n  geom_textline(label = \"label\")\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n## {.appendix .unnumbered .unlisted}\n\n::: {.d-flex}\n\n![](https://github.com/mccarthy-m-g/michaelmccarthy/raw/main/content/about/sidebar/avatar.png){fig-align=\"left\" fig-alt=\"Avatar\" .rounded .avatar}\n\n::: {}\n\n::: {}\n## Michael McCarthy {.quarto-appendix-heading}\n:::\n\nI am an award winning data scientist and R programmer creating data solutions for the problems you care about. I offer training consulting services to help you accomplish your goals at any point in your project lifecycle. I value building new connections and would love to discuss opportunities to work with you. Let’s get to know each other.\n:::\n\n:::\n\n## Comments {.appendix .unnumbered .unlisted}\n\n<details open>\n<summary></summary>\n::: {.giscus}\n:::\n</details>\n\n## Session Info {.appendix .unnumbered .unlisted}\n\n<details>\n<summary></summary>\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n```\n─ Session info ───────────────────────────────────────────────────────────────\n setting  value\n version  R version 4.1.1 (2021-08-10)\n os       macOS Mojave 10.14.6\n system   x86_64, darwin17.0\n ui       X11\n language (EN)\n collate  en_CA.UTF-8\n ctype    en_CA.UTF-8\n tz       America/Vancouver\n date     2022-11-22\n pandoc   2.14.0.3 @ /Applications/RStudio.app/Contents/MacOS/pandoc/ (via rmarkdown)\n quarto   1.2.247 @ /usr/local/bin/quarto\n\n─ Packages ───────────────────────────────────────────────────────────────────\n package      * version    date (UTC) lib source\n dplyr        * 1.0.10     2022-09-01 [1] CRAN (R 4.1.2)\n forcats      * 0.5.1      2021-01-27 [1] CRAN (R 4.1.0)\n geomtextpath * 0.1.1      2022-08-30 [1] CRAN (R 4.1.2)\n ggdist       * 3.1.1.9001 2022-06-19 [1] Github (mjskay/ggdist@25a813d)\n ggplot2      * 3.3.6      2022-05-03 [1] CRAN (R 4.1.2)\n purrr        * 0.3.4      2020-04-17 [1] CRAN (R 4.1.0)\n readr        * 2.1.2      2022-01-30 [1] CRAN (R 4.1.2)\n sessioninfo  * 1.2.2      2021-12-06 [1] CRAN (R 4.1.0)\n stringr      * 1.4.0      2019-02-10 [1] CRAN (R 4.1.0)\n tibble       * 3.1.6      2021-11-07 [1] CRAN (R 4.1.0)\n tidyr        * 1.2.0      2022-02-01 [1] CRAN (R 4.1.2)\n tidyverse    * 1.3.1      2021-04-15 [1] CRAN (R 4.1.0)\n\n [1] /Users/Michael/Library/R/4.1/library\n [2] /Library/Frameworks/R.framework/Versions/4.1/Resources/library\n\n──────────────────────────────────────────────────────────────────────────────\n```\n:::\n:::\n</details>\n\n<!--\n## Data {.appendix .unnumbered .unlisted}\n\n[Download](/data/) the data used in this post.\n-->\n\n<!--\n## Fair Dealing {.appendix .unnumbered .unlisted}\n\nAny of the trademarks, service marks, collective marks, design rights or similar rights that are mentioned, used, or cited in this article are the property of their respective owners. They are used here as fair dealing for the purpose of education in accordance with [section 29 of the Copyright Act](https://laws-lois.justice.gc.ca/eng/acts/c-42/page-8.html#h-103270) and do not infringe copyright.\n-->\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/pagedtable-1.1/css/pagedtable.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/pagedtable-1.1/js/pagedtable.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}